# Design Patterns 设计模式
## 1 前言
### 1.1 程序员应具备的两种思维
底层思维：
- 语言构造
- 编译转换
- 内存模型
- 运行时机制

抽象思维：
- 面向对象
- 组件封装
- 设计模式
- 架构模式

### 1.2 面向对象
向下：
- 封装，隐层每部实现
- 集成，复用现有代码
- 多态，改写对象行为

向上：
- 深刻把握面向对象机制所带来的抽象意义
- 理解如何使用这些机制来表达现实世界
- 掌握什么是好的面向对象设计

特征：
- 隔离稳定与变化
- 对象各司其职，即责任的抽象
- 封装行为与数据
- 提供可被使用的公共接口

### 1.3. 软件设计复杂性
#### 1.3.1 复杂源于变化
- 客户需求会变
- 技术平台会变
- 开发团队会变
- 市场环境会变

#### 1.3.2 如何解决复杂性
- 分解，即分而治之
- 抽象，忽略非本质细节

#### 1.3.3 软件设计的目标
软件设计的金科玉律：**复用！！！**

## 2 面向对象设计原则
### 2.1 依赖倒置原则（DIP）
高层模块不应依赖低层模块，而应依赖于抽象；抽象不应依赖于实现细节，实现细节应依赖于抽象。

### 2.2 开放封闭原则（OCP）
对扩展开放，对更改封闭；类模块可以扩展，但不可修改。

### 2.3 单一职责原则（SRP）
一个类只有一个引起它变化的原因，即一个类只有一个职责。

### 2.4 里氏替换原则（LRP）
子类必须能替换它们的基类（IS-A）

### 2.5 接口隔离原则（ISP）
不应该强迫客户程序依赖不用的方法，接口应该小而完备。

### 2.6 优先使用对象组合而不是继承
继承通常为白箱复用，对象通常为黑箱复用；
继承某种程度上破坏了封装性，子类父类耦合度高；
对象组合只要求组合的对象具有良好定义的接口，耦合度低。

### 2.7 封装变化点
使用封装来创建对象之间的分界层，让设计者在一侧编程，而不对另一侧产生不良影响。

### 2.8 针对接口编程，而不是针对实现编程
- 不将变量声明为特定具体类，而是声明为某个接口；
- 客户程序无需获知对象具体类型，只需知道对象所具有的接口；
- 减少系统各部分的依赖关系，从而实现"高内聚、低耦合"。


## 3 学习设计模式的建议

- 在变化和稳定中寻找隔离点，分离它们，从而管理变化；
- 分析各个设计模式的类图，养成分析变化与稳定的习惯；
- 设计模式的应用不应该先入为主，应在重构中运用模式；
> **重构技法**：
>- 静态--->动态
>- 早绑定--->晚绑定
>- 继承--->组合
>- 编译时依赖--->运行时依赖
>- 紧耦合--->松耦合
- 如果一切都稳定或一切都变化，则没必要运用设计模式。