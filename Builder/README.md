# Builder
## 1 动机
一个复杂对象的创建工作由各个部分的子对象用一定算法构成，各部分面临剧烈变化，而组合算法稳定。
## 2 定义
将一个复杂对象的构建与其表示相分离，是同样的构建过程可以创建不同的表示。
## 3 特点
- Builder用分步骤构建一个对象，分步骤是稳定算法，而复杂对象个各个部分经常变化。
- 哪里变化就在那里封装。Builder用于应对复杂对象各部分频繁的需求变动，缺点在于应对分步骤构建算法的需求变动。
- Builder模式中要注意不同语言中构造器内调用虚函数的差别。
## 4 代码举例
- 建房子的流程打地基、砌墙、装门窗、装房顶等流程稳定不变。但房子类型不同，建造的各流程细节不同。
- House基类派生StoneHouse石头房子，GlassHouse玻璃房子。
- HouseBuilder基类提供打地基、砌墙、装门窗、装房顶、获取结果的操作接口，派生StoneHouseBuilder类，实现各个接口。
- HouseDirector类，包含一个HouseBuilder指针和Construct方法，在方法内部调用构建房子的算法流程，并获取结果并返回。
- 使用时HouseBuilder传入不同的HouseBuilder子类指针，通过Construct方法获取不同的House子类对象。
## 5 Tips
C++构造函数调用虚函数是静态绑定，无法实现多态。