# Mediator
## 1 动机
软件构建过程中，存在对个对象互相关联交互的情况，对象之间维持复杂的引用关系，如果需求变化，引用关系面临不断的变化。
## 2 定义
用中介者封装一系列的交互对象，使各对象无需显式相互引用（编译时依赖转为运行时依赖），从而达到松耦合，并且可以独立的改变他们的交互。
## 3 特点
- Mediator对多个对象的控制逻辑进行集中管理，“多个对象相互关联”变成“多个对象和一个中介者关联”，方便维护，可以抵御变化。
- 随着控制逻辑的变化，Mediator可能变得相当复杂，可对Mediator对象进行分解处理。
- Facade模式是系统间单向的对象关联关系的解耦；Mediator是系统内各个对象间双向关联关系的解耦。
## 4 代码举例
- Mediator中介类派生房屋中介类HouseMediator，包含发消息Send，添加租客AddRenter，添加房东AddLandlord方法。
- Person类，派生Renter租客类、Landlord房东类，子类构造函数提供中介者指针，构造时中介者内部，包含GetMessage与SendMessage方法。
- Person子类SendMessage时，通过房屋中介者的Send方法发送消息。
- 房屋中介者Send实现时，如果发消息的是租客，则让房东接收消息；如果发消息的是房东，则让租客接收消息。