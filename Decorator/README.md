# Decorator
## 1 动机
某些情况下，过度使用继承来扩展对象功能，由于继承引入的静态特质，是扩展方式缺乏灵活性，同时子类增多，各种子类组合导致子类膨胀。
## 2 定义
动态给一个对象增加一些额外的职责，就增加功能而言Decarator比生成子类更加灵活。可以消除重复代码，减少类数量。
## 3 特点
- 在接口上表现为IS-A，但实现上表现为HAS-A，同时使用了继承与组合。
- 重点并非为了解决多子类衍生问题，重点在于解决主题类在多个方向上的功能扩展。
## 4 代码举例
- 假设主体类n个， 画布Canvas基类如n个不同颜色的画布BlueCanvas、RedCanvas……实现基类Draw()接口。
- 功能扩展方式有m个，对画布做不同形式的装饰，加边界、加相框等。BorderDecorator、FrameDecorator
- 如果沿着主体类继承，类的总数为1+n+n*m，基类1个、不同颜色画布类n个、每个不同颜色进行不同装饰的新类n*m个
- 如果采用装饰模式，将主体类与扩展类通过组合解耦，让主体类与扩展类分支继承，总的类数为，1+n+1+m。
- Decorator类继承Canvas类，同时包含一个Canvas指针，构造函数中传入该指针；
- Decorator派各个子类，如BorderDecorator，增加绘制边界的方法，实现Draw时，调用基类Canvas的Draw方法和绘制边界的方法，实现功能扩展。